<svg viewBox="0 0 880 420" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet">
  <!-- Background -->
  <rect width="880" height="420" fill="#0A0A0A"/>

  <!-- n8n Workflow Box (Left) -->
  <rect x="30" y="30" width="350" height="360" rx="14" fill="#FF6D5A" fill-opacity="0.1" stroke="#FF6D5A" stroke-width="2"/>
  <text x="205" y="62" text-anchor="middle" fill="#FF6D5A" font-family="system-ui, -apple-system, sans-serif" font-size="15" font-weight="700">n8n Workflow</text>

  <!-- n8n Workflow nodes -->
  <rect x="55" y="90" width="160" height="42" rx="6" fill="#0A0A0A" stroke="#FF6D5A" stroke-width="2"/>
  <text x="135" y="117" text-anchor="middle" fill="#FECACA" font-family="system-ui, -apple-system, sans-serif" font-size="12" font-weight="600">Webhook Trigger</text>

  <rect x="55" y="152" width="160" height="42" rx="6" fill="#0A0A0A" stroke="#FF6D5A" stroke-width="2"/>
  <text x="135" y="179" text-anchor="middle" fill="#FECACA" font-family="system-ui, -apple-system, sans-serif" font-size="12" font-weight="600">Create Transaction</text>

  <rect x="55" y="214" width="160" height="42" rx="6" fill="#0A0A0A" stroke="#FF6D5A" stroke-width="2"/>
  <text x="135" y="241" text-anchor="middle" fill="#FECACA" font-family="system-ui, -apple-system, sans-serif" font-size="12" font-weight="600">Link Escrow</text>

  <rect x="55" y="276" width="160" height="42" rx="6" fill="#0A0A0A" stroke="#FF6D5A" stroke-width="2"/>
  <text x="135" y="303" text-anchor="middle" fill="#FECACA" font-family="system-ui, -apple-system, sans-serif" font-size="12" font-weight="600">Get Transaction</text>

  <rect x="55" y="338" width="160" height="42" rx="6" fill="#0A0A0A" stroke="#FF6D5A" stroke-width="2"/>
  <text x="135" y="365" text-anchor="middle" fill="#FECACA" font-family="system-ui, -apple-system, sans-serif" font-size="12" font-weight="600">Settle Transaction</text>

  <!-- n8n internal arrows -->
  <line x1="135" y1="132" x2="135" y2="152" stroke="#FF6D5A" stroke-width="2"/>
  <polygon points="135,152 131,145 139,145" fill="#FF6D5A"/>

  <line x1="135" y1="194" x2="135" y2="214" stroke="#FF6D5A" stroke-width="2"/>
  <polygon points="135,214 131,207 139,207" fill="#FF6D5A"/>

  <line x1="135" y1="256" x2="135" y2="276" stroke="#FF6D5A" stroke-width="2"/>
  <polygon points="135,276 131,269 139,269" fill="#FF6D5A"/>

  <line x1="135" y1="318" x2="135" y2="338" stroke="#FF6D5A" stroke-width="2"/>
  <polygon points="135,338 131,331 139,331" fill="#FF6D5A"/>

  <!-- Base L2 Box (Right) -->
  <rect x="500" y="30" width="350" height="360" rx="14" fill="#3B82F6" fill-opacity="0.1" stroke="#3B82F6" stroke-width="2"/>
  <text x="675" y="62" text-anchor="middle" fill="#3B82F6" font-family="system-ui, -apple-system, sans-serif" font-size="15" font-weight="700">Base L2</text>

  <!-- Chain components -->
  <rect x="580" y="110" width="180" height="56" rx="10" fill="#0A0A0A" stroke="#8B5CF6" stroke-width="2"/>
  <text x="670" y="144" text-anchor="middle" fill="#C4B5FD" font-family="system-ui, -apple-system, sans-serif" font-size="14" font-weight="600">ACTPKernel</text>

  <rect x="580" y="196" width="180" height="56" rx="10" fill="#0A0A0A" stroke="#10B981" stroke-width="2"/>
  <text x="670" y="230" text-anchor="middle" fill="#6EE7B7" font-family="system-ui, -apple-system, sans-serif" font-size="14" font-weight="600">EscrowVault</text>

  <rect x="580" y="282" width="180" height="56" rx="10" fill="#0A0A0A" stroke="#0EA5E9" stroke-width="2"/>
  <text x="670" y="316" text-anchor="middle" fill="#7DD3FC" font-family="system-ui, -apple-system, sans-serif" font-size="14" font-weight="600">USDC Token</text>

  <!-- Arrow markers -->
  <defs>
    <marker id="arrowPurple" markerWidth="10" markerHeight="10" refX="8" refY="5" orient="auto">
      <polygon points="0,0 10,5 0,10" fill="#8B5CF6"/>
    </marker>
    <marker id="arrowGreen" markerWidth="10" markerHeight="10" refX="8" refY="5" orient="auto">
      <polygon points="0,0 10,5 0,10" fill="#10B981"/>
    </marker>
    <marker id="arrowCyan" markerWidth="10" markerHeight="10" refX="8" refY="5" orient="auto">
      <polygon points="0,0 10,5 0,10" fill="#0EA5E9"/>
    </marker>
  </defs>

  <!-- Cross-box arrows -->

  <!-- Create Transaction → ACTPKernel -->
  <path d="M215 173 L570 138" stroke="#8B5CF6" stroke-width="2" fill="none" marker-end="url(#arrowPurple)"/>
  <rect x="330" y="138" width="105" height="20" rx="4" fill="#0A0A0A" fill-opacity="0.9"/>
  <text x="382" y="152" text-anchor="middle" fill="#C4B5FD" font-family="system-ui, -apple-system, sans-serif" font-size="10">createTransaction</text>

  <!-- Link Escrow → ACTPKernel -->
  <path d="M215 227 L570 150" stroke="#8B5CF6" stroke-width="2" fill="none" marker-end="url(#arrowPurple)"/>
  <rect x="295" y="175" width="70" height="20" rx="4" fill="#0A0A0A" fill-opacity="0.9"/>
  <text x="330" y="189" text-anchor="middle" fill="#C4B5FD" font-family="system-ui, -apple-system, sans-serif" font-size="10">linkEscrow</text>

  <!-- Link Escrow → USDC (transfer) -->
  <path d="M215 243 L570 230" stroke="#0EA5E9" stroke-width="2" fill="none" marker-end="url(#arrowCyan)"/>
  <rect x="320" y="226" width="90" height="20" rx="4" fill="#0A0A0A" fill-opacity="0.9"/>
  <text x="365" y="240" text-anchor="middle" fill="#7DD3FC" font-family="system-ui, -apple-system, sans-serif" font-size="10">transferFrom</text>

  <!-- USDC → EscrowVault (lock) -->
  <path d="M670 282 L670 260" stroke="#10B981" stroke-width="2" fill="none" marker-end="url(#arrowGreen)"/>
  <rect x="680" y="262" width="35" height="18" rx="4" fill="#0A0A0A" fill-opacity="0.9"/>
  <text x="697" y="275" text-anchor="middle" fill="#6EE7B7" font-family="system-ui, -apple-system, sans-serif" font-size="9">lock</text>

  <!-- Release Payment → ACTPKernel -->
  <path d="M215 359 L570 155" stroke="#8B5CF6" stroke-width="2" fill="none" marker-end="url(#arrowPurple)"/>
  <rect x="270" y="268" width="120" height="20" rx="4" fill="#0A0A0A" fill-opacity="0.9"/>
  <text x="330" y="282" text-anchor="middle" fill="#C4B5FD" font-family="system-ui, -apple-system, sans-serif" font-size="10">transitionState(SETTLED)</text>

  <!-- EscrowVault → USDC (payout) -->
  <path d="M670 252 L670 274" stroke="#0EA5E9" stroke-width="2" fill="none" marker-end="url(#arrowCyan)"/>
  <rect x="675" y="248" width="52" height="18" rx="4" fill="#0A0A0A" fill-opacity="0.9"/>
  <text x="701" y="261" text-anchor="middle" fill="#7DD3FC" font-family="system-ui, -apple-system, sans-serif" font-size="9">payout</text>
</svg>
