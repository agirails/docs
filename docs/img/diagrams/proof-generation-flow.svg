<svg viewBox="0 0 800 420" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet">
  <!-- Background -->
  <rect width="800" height="420" fill="#0A0A0A"/>

  <!-- Participant boxes -->
  <!-- Provider Agent -->
  <rect x="40" y="20" width="120" height="40" rx="6" fill="#0A0A0A" fill-opacity="0.8" stroke="#0EA5E9" stroke-width="2"/>
  <text x="100" y="45" text-anchor="middle" fill="#0EA5E9" font-family="system-ui, -apple-system, sans-serif" font-size="11" font-weight="600">Provider Agent</text>

  <!-- ACTP SDK -->
  <rect x="230" y="20" width="100" height="40" rx="6" fill="#0A0A0A" fill-opacity="0.8" stroke="#8B5CF6" stroke-width="2"/>
  <text x="280" y="45" text-anchor="middle" fill="#8B5CF6" font-family="system-ui, -apple-system, sans-serif" font-size="11" font-weight="600">ACTP SDK</text>

  <!-- Blockchain -->
  <rect x="420" y="20" width="100" height="40" rx="6" fill="#0A0A0A" fill-opacity="0.8" stroke="#8B5CF6" stroke-width="2"/>
  <text x="470" y="45" text-anchor="middle" fill="#8B5CF6" font-family="system-ui, -apple-system, sans-serif" font-size="11" font-weight="600">Blockchain</text>

  <!-- EAS -->
  <rect x="600" y="20" width="160" height="40" rx="6" fill="#0A0A0A" fill-opacity="0.8" stroke="#F59E0B" stroke-width="2"/>
  <text x="680" y="38" text-anchor="middle" fill="#F59E0B" font-family="system-ui, -apple-system, sans-serif" font-size="10" font-weight="600">Ethereum Attestation</text>
  <text x="680" y="52" text-anchor="middle" fill="#F59E0B" font-family="system-ui, -apple-system, sans-serif" font-size="10" font-weight="600">Service</text>

  <!-- Lifelines -->
  <line x1="100" y1="60" x2="100" y2="380" stroke="#0EA5E9" stroke-width="1" stroke-dasharray="4,4" stroke-opacity="0.5"/>
  <line x1="280" y1="60" x2="280" y2="380" stroke="#8B5CF6" stroke-width="1" stroke-dasharray="4,4" stroke-opacity="0.5"/>
  <line x1="470" y1="60" x2="470" y2="380" stroke="#8B5CF6" stroke-width="1" stroke-dasharray="4,4" stroke-opacity="0.5"/>
  <line x1="680" y1="60" x2="680" y2="380" stroke="#F59E0B" stroke-width="1" stroke-dasharray="4,4" stroke-opacity="0.5"/>

  <!-- Message 1: P -> SDK: generateDeliveryProof(result) -->
  <rect x="120" y="74" width="140" height="16" rx="3" fill="#0A0A0A" fill-opacity="0.9"/>
  <text x="190" y="85" text-anchor="middle" fill="#C4B5FD" font-family="system-ui, -apple-system, sans-serif" font-size="9">generateDeliveryProof(result)</text>
  <line x1="100" y1="95" x2="270" y2="95" stroke="#8B5CF6" stroke-width="1.5"/>
  <polygon points="270,95 264,91 264,99" fill="#8B5CF6"/>

  <!-- Message 2: SDK -> P: proof (dashed return) -->
  <rect x="125" y="104" width="145" height="16" rx="3" fill="#0A0A0A" fill-opacity="0.9"/>
  <text x="197" y="115" text-anchor="middle" fill="#C4B5FD" font-family="system-ui, -apple-system, sans-serif" font-size="9">proof (contentHash, timestamp)</text>
  <line x1="280" y1="125" x2="110" y2="125" stroke="#8B5CF6" stroke-width="1.5" stroke-dasharray="4,2"/>
  <polygon points="110,125 116,121 116,129" fill="#8B5CF6"/>

  <!-- Message 3: P -> EAS: attestDeliveryProof(proof) -->
  <rect x="330" y="144" width="130" height="16" rx="3" fill="#0A0A0A" fill-opacity="0.9"/>
  <text x="395" y="155" text-anchor="middle" fill="#FCD34D" font-family="system-ui, -apple-system, sans-serif" font-size="9">attestDeliveryProof(proof)</text>
  <line x1="100" y1="165" x2="670" y2="165" stroke="#F59E0B" stroke-width="1.5"/>
  <polygon points="670,165 664,161 664,169" fill="#F59E0B"/>

  <!-- Message 4: EAS -> P: attestationUid (dashed return) -->
  <rect x="350" y="174" width="90" height="16" rx="3" fill="#0A0A0A" fill-opacity="0.9"/>
  <text x="395" y="185" text-anchor="middle" fill="#FCD34D" font-family="system-ui, -apple-system, sans-serif" font-size="9">attestationUid</text>
  <line x1="680" y1="195" x2="110" y2="195" stroke="#F59E0B" stroke-width="1.5" stroke-dasharray="4,2"/>
  <polygon points="110,195 116,191 116,199" fill="#F59E0B"/>

  <!-- Message 5: P -> BC: transitionState(DELIVERED, proof) -->
  <rect x="200" y="214" width="165" height="16" rx="3" fill="#0A0A0A" fill-opacity="0.9"/>
  <text x="282" y="225" text-anchor="middle" fill="#C4B5FD" font-family="system-ui, -apple-system, sans-serif" font-size="9">transitionState(DELIVERED, proof)</text>
  <line x1="100" y1="235" x2="460" y2="235" stroke="#8B5CF6" stroke-width="1.5"/>
  <polygon points="460,235 454,231 454,239" fill="#8B5CF6"/>

  <!-- Message 6: BC -> P: transaction receipt (dashed return) -->
  <rect x="230" y="244" width="100" height="16" rx="3" fill="#0A0A0A" fill-opacity="0.9"/>
  <text x="280" y="255" text-anchor="middle" fill="#C4B5FD" font-family="system-ui, -apple-system, sans-serif" font-size="9">transaction receipt</text>
  <line x1="470" y1="265" x2="110" y2="265" stroke="#8B5CF6" stroke-width="1.5" stroke-dasharray="4,2"/>
  <polygon points="110,265 116,261 116,269" fill="#8B5CF6"/>

  <!-- Message 7: P -> BC: anchorAttestation(txId, attestationUid) -->
  <rect x="180" y="284" width="195" height="16" rx="3" fill="#0A0A0A" fill-opacity="0.9"/>
  <text x="277" y="295" text-anchor="middle" fill="#C4B5FD" font-family="system-ui, -apple-system, sans-serif" font-size="9">anchorAttestation(txId, attestationUid)</text>
  <line x1="100" y1="305" x2="460" y2="305" stroke="#8B5CF6" stroke-width="1.5"/>
  <polygon points="460,305 454,301 454,309" fill="#8B5CF6"/>

  <!-- Message 8: BC -> P: transaction receipt (dashed return) -->
  <rect x="230" y="314" width="100" height="16" rx="3" fill="#0A0A0A" fill-opacity="0.9"/>
  <text x="280" y="325" text-anchor="middle" fill="#C4B5FD" font-family="system-ui, -apple-system, sans-serif" font-size="9">transaction receipt</text>
  <line x1="470" y1="335" x2="110" y2="335" stroke="#8B5CF6" stroke-width="1.5" stroke-dasharray="4,2"/>
  <polygon points="110,335 116,331 116,339" fill="#8B5CF6"/>

  <!-- Note: Dispute window starts -->
  <rect x="100" y="365" width="370" height="30" rx="6" fill="#10B981" fill-opacity="0.15" stroke="#10B981" stroke-width="1.5"/>
  <text x="285" y="385" text-anchor="middle" fill="#10B981" font-family="system-ui, -apple-system, sans-serif" font-size="11" font-weight="600">Dispute window starts</text>
</svg>
