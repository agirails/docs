<svg viewBox="0 0 950 320" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet">
  <!-- Background -->
  <rect width="950" height="320" fill="#0A0A0A"/>

  <!-- Title -->
  <text x="475" y="20" text-anchor="middle" fill="#9CA3AF" font-family="system-ui, -apple-system, sans-serif" font-size="11" font-weight="600">Happy Path</text>

  <!-- ═══ HAPPY PATH (top row) ═══ -->

  <!-- INITIATED -->
  <rect x="30" y="50" width="110" height="50" rx="8" fill="#0EA5E9" fill-opacity="0.15" stroke="#0EA5E9" stroke-width="2"/>
  <text x="85" y="72" text-anchor="middle" fill="#0EA5E9" font-family="system-ui, -apple-system, sans-serif" font-size="11" font-weight="600">INITIATED</text>
  <text x="85" y="88" text-anchor="middle" fill="#7DD3FC" font-family="monospace" font-size="9">(0)</text>

  <!-- Arrow: INITIATED → QUOTED -->
  <line x1="140" y1="75" x2="168" y2="75" stroke="#0EA5E9" stroke-width="1.5"/>
  <polygon points="175,75 167,70 167,80" fill="#0EA5E9"/>

  <!-- QUOTED -->
  <rect x="175" y="50" width="110" height="50" rx="8" fill="#0EA5E9" fill-opacity="0.15" stroke="#0EA5E9" stroke-width="2" stroke-dasharray="4,2"/>
  <text x="230" y="72" text-anchor="middle" fill="#0EA5E9" font-family="system-ui, -apple-system, sans-serif" font-size="11" font-weight="600">QUOTED</text>
  <text x="230" y="88" text-anchor="middle" fill="#7DD3FC" font-family="monospace" font-size="9">(1) optional</text>

  <!-- Arrow: QUOTED → COMMITTED -->
  <line x1="285" y1="75" x2="313" y2="75" stroke="#0EA5E9" stroke-width="1.5"/>
  <polygon points="320,75 312,70 312,80" fill="#0EA5E9"/>

  <!-- COMMITTED -->
  <rect x="320" y="50" width="110" height="50" rx="8" fill="#3B82F6" fill-opacity="0.15" stroke="#3B82F6" stroke-width="2"/>
  <text x="375" y="72" text-anchor="middle" fill="#3B82F6" font-family="system-ui, -apple-system, sans-serif" font-size="11" font-weight="600">COMMITTED</text>
  <text x="375" y="88" text-anchor="middle" fill="#93C5FD" font-family="monospace" font-size="9">(2)</text>

  <!-- Arrow: COMMITTED → IN_PROGRESS -->
  <line x1="430" y1="75" x2="458" y2="75" stroke="#3B82F6" stroke-width="1.5"/>
  <polygon points="465,75 457,70 457,80" fill="#3B82F6"/>

  <!-- IN_PROGRESS -->
  <rect x="465" y="50" width="110" height="50" rx="8" fill="#8B5CF6" fill-opacity="0.15" stroke="#8B5CF6" stroke-width="2" stroke-dasharray="4,2"/>
  <text x="520" y="72" text-anchor="middle" fill="#8B5CF6" font-family="system-ui, -apple-system, sans-serif" font-size="10" font-weight="600">IN_PROGRESS</text>
  <text x="520" y="88" text-anchor="middle" fill="#C4B5FD" font-family="monospace" font-size="9">(3) optional</text>

  <!-- Arrow: IN_PROGRESS → DELIVERED -->
  <line x1="575" y1="75" x2="603" y2="75" stroke="#8B5CF6" stroke-width="1.5"/>
  <polygon points="610,75 602,70 602,80" fill="#8B5CF6"/>

  <!-- DELIVERED -->
  <rect x="610" y="50" width="110" height="50" rx="8" fill="#F59E0B" fill-opacity="0.15" stroke="#F59E0B" stroke-width="2"/>
  <text x="665" y="72" text-anchor="middle" fill="#F59E0B" font-family="system-ui, -apple-system, sans-serif" font-size="11" font-weight="600">DELIVERED</text>
  <text x="665" y="88" text-anchor="middle" fill="#FCD34D" font-family="monospace" font-size="9">(4)</text>

  <!-- Arrow: DELIVERED → SETTLED -->
  <line x1="720" y1="75" x2="748" y2="75" stroke="#10B981" stroke-width="2"/>
  <polygon points="755,75 747,70 747,80" fill="#10B981"/>

  <!-- SETTLED (terminal) -->
  <rect x="755" y="50" width="110" height="50" rx="8" fill="#10B981" fill-opacity="0.15" stroke="#10B981" stroke-width="2"/>
  <text x="810" y="72" text-anchor="middle" fill="#10B981" font-family="system-ui, -apple-system, sans-serif" font-size="11" font-weight="600">SETTLED</text>
  <text x="810" y="88" text-anchor="middle" fill="#6EE7B7" font-family="monospace" font-size="9">(5) terminal</text>

  <!-- ═══ CANCEL PATH ═══ -->

  <!-- CANCELED (terminal) - centered below QUOTED -->
  <rect x="175" y="180" width="110" height="50" rx="8" fill="#EF4444" fill-opacity="0.15" stroke="#EF4444" stroke-width="2"/>
  <text x="230" y="202" text-anchor="middle" fill="#EF4444" font-family="system-ui, -apple-system, sans-serif" font-size="11" font-weight="600">CANCELED</text>
  <text x="230" y="218" text-anchor="middle" fill="#FCA5A5" font-family="monospace" font-size="9">(7) terminal</text>

  <!-- Cancel arrows from INITIATED, QUOTED, COMMITTED -->
  <!-- Horizontal line connecting drops -->
  <line x1="85" y1="130" x2="375" y2="130" stroke="#EF4444" stroke-width="1.5" stroke-dasharray="4,2"/>

  <!-- INITIATED down to line -->
  <line x1="85" y1="100" x2="85" y2="130" stroke="#EF4444" stroke-width="1.5" stroke-dasharray="4,2"/>

  <!-- QUOTED down to line -->
  <line x1="230" y1="100" x2="230" y2="130" stroke="#EF4444" stroke-width="1.5" stroke-dasharray="4,2"/>

  <!-- COMMITTED down to line -->
  <line x1="375" y1="100" x2="375" y2="130" stroke="#EF4444" stroke-width="1.5" stroke-dasharray="4,2"/>

  <!-- Line down to CANCELED -->
  <line x1="230" y1="130" x2="230" y2="172" stroke="#EF4444" stroke-width="1.5" stroke-dasharray="4,2"/>
  <polygon points="230,180 225,172 235,172" fill="#EF4444"/>

  <!-- Cancel label -->
  <text x="320" y="145" fill="#FCA5A5" font-family="system-ui, -apple-system, sans-serif" font-size="9">cancel (R/P)</text>

  <!-- ═══ DISPUTE PATH ═══ -->

  <!-- DISPUTED -->
  <rect x="610" y="180" width="110" height="50" rx="8" fill="#F59E0B" fill-opacity="0.15" stroke="#F59E0B" stroke-width="2"/>
  <text x="665" y="202" text-anchor="middle" fill="#F59E0B" font-family="system-ui, -apple-system, sans-serif" font-size="11" font-weight="600">DISPUTED</text>
  <text x="665" y="218" text-anchor="middle" fill="#FCD34D" font-family="monospace" font-size="9">(6)</text>

  <!-- DISPUTED → CANCELED -->
  <line x1="610" y1="205" x2="293" y2="205" stroke="#EF4444" stroke-width="1.5" stroke-dasharray="4,2"/>
  <polygon points="285,205 293,200 293,210" fill="#EF4444"/>

  <!-- DELIVERED → DISPUTED -->
  <line x1="665" y1="100" x2="665" y2="172" stroke="#F59E0B" stroke-width="1.5" stroke-dasharray="4,2"/>
  <polygon points="665,180 660,172 670,172" fill="#F59E0B"/>

  <!-- Dispute label -->
  <text x="690" y="140" fill="#FCD34D" font-family="system-ui, -apple-system, sans-serif" font-size="9">dispute (R)</text>

  <!-- DISPUTED → SETTLED -->
  <line x1="720" y1="205" x2="810" y2="205" stroke="#10B981" stroke-width="1.5"/>
  <line x1="810" y1="205" x2="810" y2="108" stroke="#10B981" stroke-width="1.5"/>
  <polygon points="810,100 805,108 815,108" fill="#10B981"/>

  <!-- Resolve label -->
  <text x="740" y="195" fill="#6EE7B7" font-family="system-ui, -apple-system, sans-serif" font-size="9">resolve (M)</text>

  <!-- ═══ LEGEND ═══ -->
  <rect x="30" y="260" width="12" height="12" rx="2" fill="#0EA5E9" fill-opacity="0.3" stroke="#0EA5E9" stroke-width="1"/>
  <text x="48" y="270" fill="#9CA3AF" font-family="system-ui, -apple-system, sans-serif" font-size="9">Active</text>

  <rect x="100" y="260" width="12" height="12" rx="2" fill="#10B981" fill-opacity="0.3" stroke="#10B981" stroke-width="1"/>
  <text x="118" y="270" fill="#9CA3AF" font-family="system-ui, -apple-system, sans-serif" font-size="9">Success</text>

  <rect x="175" y="260" width="12" height="12" rx="2" fill="#F59E0B" fill-opacity="0.3" stroke="#F59E0B" stroke-width="1"/>
  <text x="193" y="270" fill="#9CA3AF" font-family="system-ui, -apple-system, sans-serif" font-size="9">Dispute</text>

  <rect x="250" y="260" width="12" height="12" rx="2" fill="#EF4444" fill-opacity="0.3" stroke="#EF4444" stroke-width="1"/>
  <text x="268" y="270" fill="#9CA3AF" font-family="system-ui, -apple-system, sans-serif" font-size="9">Canceled</text>

  <line x1="340" y1="266" x2="360" y2="266" stroke="#9CA3AF" stroke-width="1.5" stroke-dasharray="4,2"/>
  <text x="368" y="270" fill="#9CA3AF" font-family="system-ui, -apple-system, sans-serif" font-size="9">Optional/Cancel</text>

  <!-- Caller legend -->
  <text x="500" y="270" fill="#6B7280" font-family="system-ui, -apple-system, sans-serif" font-size="9">R = Requester, P = Provider, M = Mediator</text>

  <!-- Method labels on arrows (centered between boxes) -->
  <text x="157" y="45" text-anchor="middle" fill="#7DD3FC" font-family="monospace" font-size="7">quote</text>
  <text x="302" y="45" text-anchor="middle" fill="#7DD3FC" font-family="monospace" font-size="7">linkEscrow</text>
  <text x="447" y="45" text-anchor="middle" fill="#93C5FD" font-family="monospace" font-size="7">start</text>
  <text x="592" y="45" text-anchor="middle" fill="#C4B5FD" font-family="monospace" font-size="7">deliver</text>
  <text x="737" y="45" text-anchor="middle" fill="#6EE7B7" font-family="monospace" font-size="7">release</text>
</svg>
