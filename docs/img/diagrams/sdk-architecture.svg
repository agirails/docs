<svg viewBox="0 0 900 520" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet">
  <!-- Background -->
  <rect width="900" height="520" fill="#0A0A0A"/>

  <!-- ACTPClient Container -->
  <rect x="30" y="20" width="200" height="480" rx="16" fill="#3B82F6" fill-opacity="0.1" stroke="#3B82F6" stroke-width="2"/>
  <text x="130" y="50" text-anchor="middle" fill="#3B82F6" font-family="system-ui, -apple-system, sans-serif" font-size="16" font-weight="700">ACTPClient</text>

  <!-- Module: kernel -->
  <rect x="50" y="70" width="160" height="40" rx="8" fill="#0EA5E9" fill-opacity="0.15" stroke="#0EA5E9" stroke-width="1.5"/>
  <text x="130" y="95" text-anchor="middle" fill="#0EA5E9" font-family="system-ui, -apple-system, sans-serif" font-size="12" font-weight="600">kernel</text>

  <!-- Module: events -->
  <rect x="50" y="125" width="160" height="40" rx="8" fill="#0EA5E9" fill-opacity="0.15" stroke="#0EA5E9" stroke-width="1.5"/>
  <text x="130" y="150" text-anchor="middle" fill="#0EA5E9" font-family="system-ui, -apple-system, sans-serif" font-size="12" font-weight="600">events</text>

  <!-- Module: escrow -->
  <rect x="50" y="180" width="160" height="40" rx="8" fill="#0EA5E9" fill-opacity="0.15" stroke="#0EA5E9" stroke-width="1.5"/>
  <text x="130" y="205" text-anchor="middle" fill="#0EA5E9" font-family="system-ui, -apple-system, sans-serif" font-size="12" font-weight="600">escrow</text>

  <!-- Module: eas -->
  <rect x="50" y="235" width="160" height="40" rx="8" fill="#0EA5E9" fill-opacity="0.15" stroke="#0EA5E9" stroke-width="1.5"/>
  <text x="130" y="260" text-anchor="middle" fill="#0EA5E9" font-family="system-ui, -apple-system, sans-serif" font-size="12" font-weight="600">eas</text>

  <!-- Module: quote -->
  <rect x="50" y="290" width="160" height="40" rx="8" fill="#0EA5E9" fill-opacity="0.15" stroke="#0EA5E9" stroke-width="1.5"/>
  <text x="130" y="315" text-anchor="middle" fill="#0EA5E9" font-family="system-ui, -apple-system, sans-serif" font-size="12" font-weight="600">quote</text>

  <!-- Module: proofGenerator -->
  <rect x="50" y="345" width="160" height="40" rx="8" fill="#0EA5E9" fill-opacity="0.15" stroke="#0EA5E9" stroke-width="1.5"/>
  <text x="130" y="370" text-anchor="middle" fill="#0EA5E9" font-family="system-ui, -apple-system, sans-serif" font-size="12" font-weight="600">proofGenerator</text>

  <!-- Module: messageSigner -->
  <rect x="50" y="400" width="160" height="40" rx="8" fill="#0EA5E9" fill-opacity="0.15" stroke="#0EA5E9" stroke-width="1.5"/>
  <text x="130" y="425" text-anchor="middle" fill="#0EA5E9" font-family="system-ui, -apple-system, sans-serif" font-size="12" font-weight="600">messageSigner</text>

  <!-- External: ACTPKernel Contract -->
  <rect x="700" y="50" width="160" height="70" rx="12" fill="#8B5CF6" fill-opacity="0.15" stroke="#8B5CF6" stroke-width="2"/>
  <text x="780" y="80" text-anchor="middle" fill="#8B5CF6" font-family="system-ui, -apple-system, sans-serif" font-size="12" font-weight="600">ACTPKernel</text>
  <text x="780" y="100" text-anchor="middle" fill="#8B5CF6" font-family="system-ui, -apple-system, sans-serif" font-size="11">Contract</text>

  <!-- External: EscrowVault Contract -->
  <rect x="700" y="130" width="160" height="70" rx="12" fill="#8B5CF6" fill-opacity="0.15" stroke="#8B5CF6" stroke-width="2"/>
  <text x="780" y="160" text-anchor="middle" fill="#8B5CF6" font-family="system-ui, -apple-system, sans-serif" font-size="12" font-weight="600">EscrowVault</text>
  <text x="780" y="180" text-anchor="middle" fill="#8B5CF6" font-family="system-ui, -apple-system, sans-serif" font-size="11">Contract</text>

  <!-- External: EAS Contract -->
  <rect x="700" y="210" width="160" height="70" rx="12" fill="#10B981" fill-opacity="0.15" stroke="#10B981" stroke-width="2"/>
  <text x="780" y="240" text-anchor="middle" fill="#10B981" font-family="system-ui, -apple-system, sans-serif" font-size="12" font-weight="600">EAS</text>
  <text x="780" y="260" text-anchor="middle" fill="#10B981" font-family="system-ui, -apple-system, sans-serif" font-size="11">Contract</text>

  <!-- External: IPFS -->
  <rect x="700" y="290" width="160" height="70" rx="12" fill="#F59E0B" fill-opacity="0.15" stroke="#F59E0B" stroke-width="2"/>
  <text x="780" y="330" text-anchor="middle" fill="#F59E0B" font-family="system-ui, -apple-system, sans-serif" font-size="12" font-weight="600">IPFS</text>

  <!-- External: Local Processing -->
  <rect x="700" y="370" width="160" height="70" rx="12" fill="#6B7280" fill-opacity="0.15" stroke="#6B7280" stroke-width="2"/>
  <text x="780" y="400" text-anchor="middle" fill="#6B7280" font-family="system-ui, -apple-system, sans-serif" font-size="12" font-weight="600">Local</text>
  <text x="780" y="420" text-anchor="middle" fill="#6B7280" font-family="system-ui, -apple-system, sans-serif" font-size="11">Processing</text>

  <!-- Arrow: kernel → ACTPKernel -->
  <line x1="210" y1="90" x2="695" y2="85" stroke="#8B5CF6" stroke-width="2"/>
  <polygon points="700,85 690,80 690,90" fill="#8B5CF6"/>
  <!-- Label -->
  <rect x="380" y="55" width="130" height="55" rx="6" fill="#0A0A0A" fill-opacity="0.75" stroke="#4B5563" stroke-width="1"/>
  <text x="445" y="70" text-anchor="middle" fill="#A78BFA" font-family="monospace" font-size="8">createTransaction</text>
  <text x="445" y="81" text-anchor="middle" fill="#A78BFA" font-family="monospace" font-size="8">getTransaction</text>
  <text x="445" y="92" text-anchor="middle" fill="#A78BFA" font-family="monospace" font-size="8">transitionState</text>
  <text x="445" y="103" text-anchor="middle" fill="#A78BFA" font-family="monospace" font-size="8">releaseEscrow</text>

  <!-- Arrow: events → ACTPKernel -->
  <line x1="210" y1="145" x2="695" y2="100" stroke="#8B5CF6" stroke-width="2"/>
  <polygon points="700,100 690,95 690,105" fill="#8B5CF6"/>
  <!-- Label -->
  <rect x="380" y="115" width="100" height="35" rx="6" fill="#0A0A0A" fill-opacity="0.75" stroke="#4B5563" stroke-width="1"/>
  <text x="430" y="130" text-anchor="middle" fill="#A78BFA" font-family="monospace" font-size="8">watchTransaction</text>
  <text x="430" y="141" text-anchor="middle" fill="#A78BFA" font-family="monospace" font-size="8">waitForState</text>

  <!-- Arrow: escrow → EscrowVault -->
  <line x1="210" y1="200" x2="695" y2="165" stroke="#8B5CF6" stroke-width="2"/>
  <polygon points="700,165 690,160 690,170" fill="#8B5CF6"/>
  <!-- Label -->
  <rect x="380" y="160" width="100" height="45" rx="6" fill="#0A0A0A" fill-opacity="0.75" stroke="#4B5563" stroke-width="1"/>
  <text x="430" y="175" text-anchor="middle" fill="#A78BFA" font-family="monospace" font-size="8">approveToken</text>
  <text x="430" y="186" text-anchor="middle" fill="#A78BFA" font-family="monospace" font-size="8">getEscrow</text>
  <text x="430" y="197" text-anchor="middle" fill="#A78BFA" font-family="monospace" font-size="8">getBalance</text>

  <!-- Arrow: eas → EAS Contract -->
  <line x1="210" y1="255" x2="695" y2="245" stroke="#10B981" stroke-width="2"/>
  <polygon points="700,245 690,240 690,250" fill="#10B981"/>
  <!-- Label -->
  <rect x="380" y="225" width="120" height="35" rx="6" fill="#0A0A0A" fill-opacity="0.75" stroke="#4B5563" stroke-width="1"/>
  <text x="440" y="240" text-anchor="middle" fill="#6EE7B7" font-family="monospace" font-size="8">attestDeliveryProof</text>
  <text x="440" y="251" text-anchor="middle" fill="#6EE7B7" font-family="monospace" font-size="8">verifyAttestation</text>

  <!-- Arrow: quote → IPFS -->
  <line x1="210" y1="310" x2="695" y2="325" stroke="#F59E0B" stroke-width="2"/>
  <polygon points="700,325 690,320 690,330" fill="#F59E0B"/>
  <!-- Label -->
  <rect x="380" y="295" width="100" height="45" rx="6" fill="#0A0A0A" fill-opacity="0.75" stroke="#4B5563" stroke-width="1"/>
  <text x="430" y="310" text-anchor="middle" fill="#FCD34D" font-family="monospace" font-size="8">build</text>
  <text x="430" y="321" text-anchor="middle" fill="#FCD34D" font-family="monospace" font-size="8">verify</text>
  <text x="430" y="332" text-anchor="middle" fill="#FCD34D" font-family="monospace" font-size="8">computeHash</text>

  <!-- Arrow: proofGenerator → Local -->
  <line x1="210" y1="365" x2="695" y2="395" stroke="#6B7280" stroke-width="2"/>
  <polygon points="700,395 690,390 690,400" fill="#6B7280"/>
  <!-- Label -->
  <rect x="380" y="355" width="130" height="35" rx="6" fill="#0A0A0A" fill-opacity="0.75" stroke="#4B5563" stroke-width="1"/>
  <text x="445" y="370" text-anchor="middle" fill="#9CA3AF" font-family="monospace" font-size="8">generateDeliveryProof</text>
  <text x="445" y="381" text-anchor="middle" fill="#9CA3AF" font-family="monospace" font-size="8">hashContent</text>

  <!-- Arrow: messageSigner → Local -->
  <line x1="210" y1="420" x2="695" y2="415" stroke="#6B7280" stroke-width="2"/>
  <polygon points="700,415 690,410 690,420" fill="#6B7280"/>
  <!-- Label -->
  <rect x="380" y="405" width="100" height="35" rx="6" fill="#0A0A0A" fill-opacity="0.75" stroke="#4B5563" stroke-width="1"/>
  <text x="430" y="420" text-anchor="middle" fill="#9CA3AF" font-family="monospace" font-size="8">signMessage</text>
  <text x="430" y="431" text-anchor="middle" fill="#9CA3AF" font-family="monospace" font-size="8">verifySignature</text>
</svg>
