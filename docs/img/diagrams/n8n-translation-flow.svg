<svg viewBox="0 0 880 580" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet">
  <!-- Background -->
  <rect width="880" height="580" fill="#0A0A0A"/>

  <!-- Participant boxes (centered) -->
  <!-- Requester Workflow -->
  <rect x="70" y="25" width="160" height="44" rx="6" fill="#0A0A0A" stroke="#FF6D5A" stroke-width="2"/>
  <text x="150" y="53" text-anchor="middle" fill="#FF6D5A" font-family="system-ui, -apple-system, sans-serif" font-size="12" font-weight="600">Requester Workflow</text>

  <!-- ACTP Kernel -->
  <rect x="300" y="25" width="140" height="44" rx="6" fill="#0A0A0A" stroke="#8B5CF6" stroke-width="2"/>
  <text x="370" y="53" text-anchor="middle" fill="#8B5CF6" font-family="system-ui, -apple-system, sans-serif" font-size="12" font-weight="600">ACTP Kernel</text>

  <!-- Provider Workflow -->
  <rect x="510" y="25" width="160" height="44" rx="6" fill="#0A0A0A" stroke="#10B981" stroke-width="2"/>
  <text x="590" y="53" text-anchor="middle" fill="#10B981" font-family="system-ui, -apple-system, sans-serif" font-size="12" font-weight="600">Provider Workflow</text>

  <!-- OpenAI -->
  <rect x="740" y="25" width="110" height="44" rx="6" fill="#0A0A0A" stroke="#0EA5E9" stroke-width="2"/>
  <text x="795" y="53" text-anchor="middle" fill="#0EA5E9" font-family="system-ui, -apple-system, sans-serif" font-size="12" font-weight="600">OpenAI</text>

  <!-- Lifelines -->
  <line x1="150" y1="69" x2="150" y2="555" stroke="#FF6D5A" stroke-width="1.5" stroke-dasharray="5,5" stroke-opacity="0.5"/>
  <line x1="370" y1="69" x2="370" y2="555" stroke="#8B5CF6" stroke-width="1.5" stroke-dasharray="5,5" stroke-opacity="0.5"/>
  <line x1="590" y1="69" x2="590" y2="555" stroke="#10B981" stroke-width="1.5" stroke-dasharray="5,5" stroke-opacity="0.5"/>
  <line x1="795" y1="69" x2="795" y2="555" stroke="#0EA5E9" stroke-width="1.5" stroke-dasharray="5,5" stroke-opacity="0.5"/>

  <!-- Message 1: R → K: Create Transaction -->
  <rect x="165" y="82" width="130" height="20" rx="4" fill="#0A0A0A" fill-opacity="0.9"/>
  <text x="230" y="96" text-anchor="middle" fill="#C4B5FD" font-family="system-ui, -apple-system, sans-serif" font-size="10">1. Create Transaction</text>
  <line x1="150" y1="108" x2="358" y2="108" stroke="#8B5CF6" stroke-width="2"/>
  <polygon points="358,108 350,103 350,113" fill="#8B5CF6"/>

  <!-- Message 2: R → K: Link Escrow -->
  <rect x="165" y="118" width="145" height="20" rx="4" fill="#0A0A0A" fill-opacity="0.9"/>
  <text x="237" y="132" text-anchor="middle" fill="#C4B5FD" font-family="system-ui, -apple-system, sans-serif" font-size="10">2. Link Escrow (lock USDC)</text>
  <line x1="150" y1="144" x2="358" y2="144" stroke="#8B5CF6" stroke-width="2"/>
  <polygon points="358,144 350,139 350,149" fill="#8B5CF6"/>

  <!-- State: COMMITTED -->
  <rect x="325" y="155" width="90" height="22" rx="5" fill="#8B5CF6" fill-opacity="0.2" stroke="#8B5CF6" stroke-width="1.5"/>
  <text x="370" y="170" text-anchor="middle" fill="#C4B5FD" font-family="system-ui, -apple-system, sans-serif" font-size="10">COMMITTED</text>

  <!-- Message 3: R → P: HTTP Notify Provider -->
  <rect x="260" y="184" width="130" height="20" rx="4" fill="#0A0A0A" fill-opacity="0.9"/>
  <text x="325" y="198" text-anchor="middle" fill="#FECACA" font-family="system-ui, -apple-system, sans-serif" font-size="10">3. HTTP: Notify Provider</text>
  <line x1="150" y1="210" x2="578" y2="210" stroke="#FF6D5A" stroke-width="2"/>
  <polygon points="578,210 570,205 570,215" fill="#FF6D5A"/>

  <!-- Message 4: P → K: Get Transaction -->
  <rect x="405" y="220" width="140" height="20" rx="4" fill="#0A0A0A" fill-opacity="0.9"/>
  <text x="475" y="234" text-anchor="middle" fill="#C4B5FD" font-family="system-ui, -apple-system, sans-serif" font-size="10">4. Get Transaction (verify)</text>
  <line x1="590" y1="246" x2="382" y2="246" stroke="#8B5CF6" stroke-width="2"/>
  <polygon points="382,246 390,241 390,251" fill="#8B5CF6"/>

  <!-- Message 5: P → K: Transition IN_PROGRESS -->
  <rect x="395" y="256" width="155" height="20" rx="4" fill="#0A0A0A" fill-opacity="0.9"/>
  <text x="472" y="270" text-anchor="middle" fill="#C4B5FD" font-family="system-ui, -apple-system, sans-serif" font-size="10">5. Transition to IN_PROGRESS</text>
  <line x1="590" y1="282" x2="382" y2="282" stroke="#8B5CF6" stroke-width="2"/>
  <polygon points="382,282 390,277 390,287" fill="#8B5CF6"/>

  <!-- Message 6: P → AI: Perform translation -->
  <rect x="625" y="292" width="125" height="20" rx="4" fill="#0A0A0A" fill-opacity="0.9"/>
  <text x="687" y="306" text-anchor="middle" fill="#7DD3FC" font-family="system-ui, -apple-system, sans-serif" font-size="10">6. Perform translation</text>
  <line x1="590" y1="318" x2="783" y2="318" stroke="#0EA5E9" stroke-width="2"/>
  <polygon points="783,318 775,313 775,323" fill="#0EA5E9"/>

  <!-- Return: AI → P: Translation result -->
  <rect x="630" y="328" width="115" height="20" rx="4" fill="#0A0A0A" fill-opacity="0.9"/>
  <text x="687" y="342" text-anchor="middle" fill="#7DD3FC" font-family="system-ui, -apple-system, sans-serif" font-size="10">Translation result</text>
  <line x1="795" y1="354" x2="602" y2="354" stroke="#0EA5E9" stroke-width="2" stroke-dasharray="5,3"/>
  <polygon points="602,354 610,349 610,359" fill="#0EA5E9"/>

  <!-- Message 7: P → K: Transition DELIVERED -->
  <rect x="400" y="364" width="145" height="20" rx="4" fill="#0A0A0A" fill-opacity="0.9"/>
  <text x="472" y="378" text-anchor="middle" fill="#C4B5FD" font-family="system-ui, -apple-system, sans-serif" font-size="10">7. Transition to DELIVERED</text>
  <line x1="590" y1="390" x2="382" y2="390" stroke="#8B5CF6" stroke-width="2"/>
  <polygon points="382,390 390,385 390,395" fill="#8B5CF6"/>

  <!-- Message 8: P → R: HTTP Notify Requester -->
  <rect x="260" y="400" width="140" height="20" rx="4" fill="#0A0A0A" fill-opacity="0.9"/>
  <text x="330" y="414" text-anchor="middle" fill="#6EE7B7" font-family="system-ui, -apple-system, sans-serif" font-size="10">8. HTTP: Notify Requester</text>
  <line x1="590" y1="426" x2="162" y2="426" stroke="#10B981" stroke-width="2"/>
  <polygon points="162,426 170,421 170,431" fill="#10B981"/>

  <!-- Message 9: R → K: Release With Verification -->
  <rect x="165" y="436" width="155" height="20" rx="4" fill="#0A0A0A" fill-opacity="0.9"/>
  <text x="242" y="450" text-anchor="middle" fill="#C4B5FD" font-family="system-ui, -apple-system, sans-serif" font-size="10">9. Release With Verification</text>
  <line x1="150" y1="462" x2="358" y2="462" stroke="#8B5CF6" stroke-width="2"/>
  <polygon points="358,462 350,457 350,467" fill="#8B5CF6"/>

  <!-- State: SETTLED -->
  <rect x="330" y="473" width="80" height="22" rx="5" fill="#10B981" fill-opacity="0.2" stroke="#10B981" stroke-width="1.5"/>
  <text x="370" y="488" text-anchor="middle" fill="#6EE7B7" font-family="system-ui, -apple-system, sans-serif" font-size="10">SETTLED</text>

  <!-- Payment released to Provider -->
  <rect x="400" y="500" width="145" height="20" rx="4" fill="#0A0A0A" fill-opacity="0.9"/>
  <text x="472" y="514" text-anchor="middle" fill="#6EE7B7" font-family="system-ui, -apple-system, sans-serif" font-size="10">Payment released (99%)</text>
  <line x1="370" y1="526" x2="578" y2="526" stroke="#10B981" stroke-width="2" stroke-dasharray="5,3"/>
  <polygon points="578,526 570,521 570,531" fill="#10B981"/>

  <!-- Summary note -->
  <rect x="200" y="540" width="480" height="32" rx="6" fill="#10B981" fill-opacity="0.1" stroke="#10B981" stroke-width="1.5"/>
  <text x="440" y="561" text-anchor="middle" fill="#6EE7B7" font-family="system-ui, -apple-system, sans-serif" font-size="11" font-weight="500">Requester pays $10 → Provider receives $9.90 (after 1% fee)</text>
</svg>
